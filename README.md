# JsFIndcrack - JavaScriptæ–‡ä»¶çˆ¬å–å’Œåæ··æ·†å·¥å…·

[![Go Version](https://img.shields.io/badge/Go-1.21+-00ADD8?style=flat&logo=go)](https://go.dev/)
[![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)
[![Platform](https://img.shields.io/badge/Platform-Linux%20|%20macOS%20|%20Windows-lightgrey)](https://github.com/RecoveryAshes/JsFIndcrack)
[![GitHub Release](https://img.shields.io/github/v/release/RecoveryAshes/JsFIndcrack)](https://github.com/RecoveryAshes/JsFIndcrack/releases)

ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„JavaScriptæ–‡ä»¶çˆ¬å–å’Œåæ··æ·†å·¥å…·ï¼Œ**å·²ä½¿ç”¨Goè¯­è¨€å®Œå…¨é‡å†™**ï¼Œæä¾›æ›´å¿«çš„æ€§èƒ½ã€æ›´ä½çš„å†…å­˜å ç”¨å’Œå•ä¸€å¯æ‰§è¡Œæ–‡ä»¶éƒ¨ç½²ã€‚

## ğŸ‰ Goç‰ˆæœ¬é‡å†™å®Œæˆ!

**v2.0 Goé‡å†™ç‰ˆ**å·²å®Œæˆå¼€å‘,ç›¸æ¯”Pythonç‰ˆæœ¬å…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿:

| ç‰¹æ€§ | Pythonç‰ˆæœ¬ | Goç‰ˆæœ¬ |
|------|-----------|--------|
| **éƒ¨ç½²** | éœ€è¦Pythonè¿è¡Œæ—¶ | å•ä¸€å¯æ‰§è¡Œæ–‡ä»¶ âœ… |
| **ä¾èµ–** | éœ€è¦pipå®‰è£…å¤šä¸ªåº“ | æ— å¤–éƒ¨ä¾èµ– âœ… |
| **å¯åŠ¨é€Ÿåº¦** | ~2ç§’ | <1ç§’ âœ… |
| **å†…å­˜å ç”¨** | åŸºå‡† | -40% âœ… |
| **æ‰¹é‡çˆ¬å–é€Ÿåº¦** | åŸºå‡† | +30% âœ… |
| **åæ··æ·†é€Ÿåº¦** | åŸºå‡† | +50% âœ… |
| **å¹¶å‘æ€§èƒ½** | å¤šè¿›ç¨‹ | åŸç”Ÿgoroutine âœ… |

**æ¨èä½¿ç”¨Goç‰ˆæœ¬ä»¥è·å¾—æœ€ä½³ä½“éªŒ!** ğŸ‘‰ [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹-goç‰ˆæœ¬)

---

## ä¸»è¦ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- âœ… **å•ä¸€å¯æ‰§è¡Œæ–‡ä»¶**: æ— éœ€Pythonè¿è¡Œæ—¶,æ— éœ€ä¾èµ–åº“
- âœ… **è·¨å¹³å°æ”¯æŒ**: Linux/macOS/Windowsä¸‰å¹³å°åŸç”Ÿæ”¯æŒ
- âœ… **æ‰¹é‡æ‰«æ**: æ”¯æŒä»æ–‡ä»¶è¯»å–URLåˆ—è¡¨è¿›è¡Œæ‰¹é‡çˆ¬å–
- âœ… **å¤šæ¨¡å¼çˆ¬å–**: é™æ€HTMLè§£æ(Colly)å’ŒåŠ¨æ€æµè§ˆå™¨æ‰§è¡Œ(Rod)
- âœ… **Source Mapæ”¯æŒ**: è‡ªåŠ¨è¯†åˆ«å’Œä¸‹è½½JavaScript Source Mapæ–‡ä»¶
- âœ… **æ™ºèƒ½å»é‡**: SHA-256å“ˆå¸Œå»é‡,è·¨æ¨¡å¼/è·¨åŸŸå
- âœ… **æ™ºèƒ½åæ··æ·†**: é›†æˆwebcrackå·¥å…·,è‡ªåŠ¨æ£€æµ‹å¹¶åæ··æ·†
- âœ… **é”™è¯¯å®¹é”™**: æ‰¹é‡æ¨¡å¼ä¸‹æ”¯æŒé‡åˆ°é”™è¯¯ç»§ç»­å¤„ç†
- âœ… **è¯¦ç»†æŠ¥å‘Š**: JSONæ ¼å¼çˆ¬å–æŠ¥å‘Š,æˆåŠŸ/å¤±è´¥æ–‡ä»¶ç»Ÿè®¡
- âœ… **è‡ªå®šä¹‰HTTPå¤´**: å‘½ä»¤è¡Œæˆ–é…ç½®æ–‡ä»¶è®¾ç½®è¯·æ±‚å¤´
- âœ… **ä¸­æ–‡æ—¥å¿—**: å½©è‰²æ—¥å¿—è¾“å‡º,å¤šçº§åˆ«æ”¯æŒ

### æ€§èƒ½ä¼˜åŒ–
- âœ… **CPUè‡ªé€‚åº”å¹¶å‘**: æ ¹æ®CPUæ ¸å¿ƒæ•°åŠ¨æ€è°ƒæ•´å¹¶å‘æ•°
- âœ… **é¡µé¢æ± å¤ç”¨**: åŠ¨æ€çˆ¬å–æ ‡ç­¾é¡µæ™ºèƒ½å¤ç”¨,é™ä½å†…å­˜
- âœ… **æµå¼æ–‡ä»¶å¤„ç†**: å¤§æ–‡ä»¶æµå¼è¯»å†™,ä½å†…å­˜å ç”¨
- âœ… **å¤šçº¿ç¨‹æ”¯æŒ**: å¯é…ç½®å¹¶å‘çº¿ç¨‹æ•°

---

## å¿«é€Ÿå¼€å§‹ (Goç‰ˆæœ¬)

### é€‰é¡¹1: ä¸‹è½½é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶ (æ¨è)

è®¿é—®[Releasesé¡µé¢](https://github.com/RecoveryAshes/JsFIndcrack/releases)ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶ã€‚

æ ¹æ®æ‚¨çš„æ“ä½œç³»ç»Ÿé€‰æ‹©å¯¹åº”çš„æ–‡ä»¶:
- Linux (amd64): `jsfindcrack-{VERSION}-linux-amd64.tar.gz`
- macOS (Intel): `jsfindcrack-{VERSION}-darwin-amd64.tar.gz`
- macOS (Apple Silicon): `jsfindcrack-{VERSION}-darwin-arm64.tar.gz`
- Windows (amd64): `jsfindcrack-{VERSION}-windows-amd64.zip`

ä¸‹è½½å¹¶è§£å‹åå³å¯ä½¿ç”¨:

```bash
# Linux
wget https://github.com/RecoveryAshes/JsFIndcrack/releases/download/{VERSION}/jsfindcrack-{VERSION}-linux-amd64.tar.gz
tar -xzf jsfindcrack-{VERSION}-linux-amd64.tar.gz
chmod +x jsfindcrack
./jsfindcrack --help

# macOS (Intel)
curl -LO https://github.com/RecoveryAshes/JsFIndcrack/releases/download/{VERSION}/jsfindcrack-{VERSION}-darwin-amd64.tar.gz
tar -xzf jsfindcrack-{VERSION}-darwin-amd64.tar.gz
chmod +x jsfindcrack
./jsfindcrack --help

# macOS (Apple Silicon)
curl -LO https://github.com/RecoveryAshes/JsFIndcrack/releases/download/{VERSION}/jsfindcrack-{VERSION}-darwin-arm64.tar.gz
tar -xzf jsfindcrack-{VERSION}-darwin-arm64.tar.gz
chmod +x jsfindcrack
./jsfindcrack --help

# Windows (PowerShell)
Invoke-WebRequest -Uri "https://github.com/RecoveryAshes/JsFIndcrack/releases/download/{VERSION}/jsfindcrack-{VERSION}-windows-amd64.zip" -OutFile jsfindcrack.zip
Expand-Archive jsfindcrack.zip
.\jsfindcrack\jsfindcrack.exe --help
```

**æ³¨æ„**: å°†`{VERSION}`æ›¿æ¢ä¸ºå®é™…ç‰ˆæœ¬å·ï¼Œå¦‚`v2.0.0`

### é€‰é¡¹2: ä»æºç æ„å»º

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/RecoveryAshes/JsFIndcrack.git
cd JsFIndcrack

# 2. ç¡®ä¿å®‰è£…Go 1.21+
go version

# 3. å®‰è£…ä¾èµ–
go mod download

# 4. æ„å»º
make build
# æˆ–ç›´æ¥ä½¿ç”¨go build
go build -o jsfindcrack ./cmd/jsfindcrack

# 5. è¿è¡Œ
./jsfindcrack --help
```

### å¤–éƒ¨ä¾èµ–(å¯é€‰)

**webcrack** (ç”¨äºJavaScriptåæ··æ·†):
```bash
# å®‰è£…Node.jså’Œnpm
# Linux: sudo apt install nodejs npm
# macOS: brew install node
# Windows: https://nodejs.org/

# å®‰è£…webcrack
npm install -g webcrack
```

**æµè§ˆå™¨** (åŠ¨æ€çˆ¬å–æ¨¡å¼):
- Rodä¼šè‡ªåŠ¨ä¸‹è½½Chromium,é¦–æ¬¡è¿è¡Œæ—¶è‡ªåŠ¨å®‰è£…
- æˆ–ä½¿ç”¨ç³»ç»Ÿå·²å®‰è£…çš„Chrome: `export ROD_BROWSER_PATH=/path/to/chrome`

### åŸºæœ¬ä½¿ç”¨

```bash
# çˆ¬å–å•ä¸ªç½‘ç«™
./jsfindcrack -u https://example.com -d 2

# åŠ¨æ€çˆ¬å–(SPAåº”ç”¨)
./jsfindcrack -u https://app.example.com --mode dynamic --headless

# æ‰¹é‡çˆ¬å–
./jsfindcrack -f urls.txt --threads 4 --continue-on-error

# è‡ªå®šä¹‰HTTPå¤´
./jsfindcrack -u https://api.example.com -H "Authorization: Bearer TOKEN"

# æ··åˆæ¨¡å¼(é™æ€+åŠ¨æ€)
./jsfindcrack -u https://example.com --mode all --threads 4
```

### å®Œæ•´å‚æ•°åˆ—è¡¨

```
ç”¨æ³•:
  jsfindcrack [flags]
  jsfindcrack [command]

å¯ç”¨å‘½ä»¤:
  help        å¸®åŠ©ä¿¡æ¯
  version     æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯

åŸºæœ¬å‚æ•°:
  -u, --url string              ç›®æ ‡URL
  -f, --file string             URLåˆ—è¡¨æ–‡ä»¶
  -d, --depth int               çˆ¬å–æ·±åº¦ (1-10) (é»˜è®¤: 2)
  -m, --mode string             çˆ¬å–æ¨¡å¼: static/dynamic/all (é»˜è®¤: static)
  -o, --output string           è¾“å‡ºç›®å½• (é»˜è®¤: output)
  -l, --log-level string        æ—¥å¿—çº§åˆ«: debug/info/warn/error (é»˜è®¤: info)

æ€§èƒ½å‚æ•°:
      --threads int             å¹¶å‘çº¿ç¨‹æ•° (é»˜è®¤: 2)
      --wait-time int           é¡µé¢ç­‰å¾…æ—¶é—´(ç§’) (é»˜è®¤: 3)
      --playwright-tabs int     åŠ¨æ€çˆ¬å–æ ‡ç­¾é¡µæ•° (é»˜è®¤: 4)
      --batch-delay int         æ‰¹é‡çˆ¬å–å»¶è¿Ÿ(ç§’) (é»˜è®¤: 0)

HTTPå¤´éƒ¨å‚æ•°:
  -H, --headers stringArray     è‡ªå®šä¹‰HTTPè¯·æ±‚å¤´ (å¯å¤šæ¬¡ä½¿ç”¨)
  -c, --config string           é…ç½®æ–‡ä»¶è·¯å¾„
      --validate-config         éªŒè¯é…ç½®æ–‡ä»¶

é«˜çº§å‚æ•°:
      --headless                æ— å¤´æµè§ˆå™¨æ¨¡å¼ (é»˜è®¤: true)
      --continue-on-error       æ‰¹é‡çˆ¬å–å‡ºé”™æ—¶ç»§ç»­
      --similarity-enabled      å¯ç”¨ç›¸ä¼¼åº¦åˆ†æ
      --similarity-threshold float  ç›¸ä¼¼åº¦é˜ˆå€¼ (0.0-1.0) (é»˜è®¤: 0.9)
```

---

## ä»Pythonç‰ˆæœ¬è¿ç§»

### å‚æ•°æ˜ å°„

| Python | Go |
|--------|-----|
| `python main.py -u URL` | `./jsfindcrack -u URL` |
| `--depth N` | `-d N` |
| `--threads N` | `--threads N` |
| `--mode static` | `--mode static` |
| `--headless` | `--headless` |
| `--url-file FILE` | `-f FILE` |
| `--batch-delay N` | `--batch-delay N` |

### è¾“å‡ºç›®å½•ç»“æ„ (100%å…¼å®¹)

```
output/
â””â”€â”€ example.com/
    â”œâ”€â”€ encode/
    â”‚   â””â”€â”€ js/          # åŸå§‹JSæ–‡ä»¶
    â”œâ”€â”€ decode/
    â”‚   â””â”€â”€ js/          # åæ··æ·†æ–‡ä»¶
    â””â”€â”€ reports/         # çˆ¬å–æŠ¥å‘Š
        â”œâ”€â”€ crawl_report.json
        â”œâ”€â”€ success_files.json
        â””â”€â”€ failed_files.json
```

### é…ç½®æ–‡ä»¶

Goç‰ˆæœ¬ä½¿ç”¨`configs/headers.yaml`ç”¨äºHTTPå¤´é…ç½®:

```yaml
headers:
  User-Agent: "JsFIndcrack/2.0"
  Accept-Language: "zh-CN,zh;q=0.9"
```

---

## å¿«é€Ÿå¼€å§‹ (Pythonç‰ˆæœ¬ - å·²åºŸå¼ƒ)

**æ³¨æ„**: Pythonç‰ˆæœ¬å·²åœæ­¢ç»´æŠ¤,å¼ºçƒˆå»ºè®®ä½¿ç”¨Goç‰ˆæœ¬ã€‚

å¦‚éœ€ä½¿ç”¨Pythonç‰ˆæœ¬(ä»…ä¾›å‚è€ƒ):

```bash
# æŸ¥çœ‹Pythonç‰ˆæœ¬åˆ†æ”¯
git checkout python-legacy

# æ‰‹åŠ¨å®‰è£…
pip install -r requirements.txt
npm install -g webcrack
playwright install
```

### åŸºæœ¬ä½¿ç”¨

#### å•ä¸ªç½‘ç«™çˆ¬å–

```bash
# çˆ¬å–å•ä¸ªç½‘ç«™ï¼ˆé»˜è®¤æ¨¡å¼ï¼šé™æ€+åŠ¨æ€ï¼‰
python main.py -u https://example.com

# ä»…é™æ€çˆ¬å–
python main.py -u https://example.com --mode static

# ä»…åŠ¨æ€çˆ¬å–
python main.py -u https://example.com --mode dynamic

# è‡ªå®šä¹‰å‚æ•°
python main.py -u https://example.com -d 3 -w 5 -t 4 --playwright-tabs 6

# å¯ç”¨ç›¸ä¼¼åº¦æ£€æµ‹å’Œå»é‡
python main.py -u https://example.com --similarity --similarity-threshold 0.8
```

#### æ‰¹é‡ç½‘ç«™çˆ¬å–

```bash
# ä»æ–‡ä»¶æ‰¹é‡çˆ¬å–ç½‘ç«™
python main.py -f urls.txt

# æ‰¹é‡çˆ¬å–ï¼Œé‡åˆ°é”™è¯¯ç»§ç»­å¤„ç†ä¸‹ä¸€ä¸ªURL
python main.py -f urls.txt --continue-on-error

# æ‰¹é‡çˆ¬å–ï¼Œè®¾ç½®URLä¹‹é—´çš„å»¶è¿Ÿæ—¶é—´
python main.py -f urls.txt --batch-delay 2 --continue-on-error

# æ‰¹é‡çˆ¬å–ï¼Œè‡ªå®šä¹‰å‚æ•°
python main.py -f urls.txt -d 2 -t 4 --batch-delay 1 --continue-on-error --mode static

# æ‰¹é‡çˆ¬å–ï¼Œå¯ç”¨ç›¸ä¼¼åº¦æ£€æµ‹
python main.py -f urls.txt --continue-on-error --similarity --similarity-threshold 0.8
```

#### URLæ–‡ä»¶æ ¼å¼

åˆ›å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼ˆå¦‚ `urls.txt`ï¼‰ï¼Œæ¯è¡Œä¸€ä¸ªURLï¼š

```
# è¿™æ˜¯æ³¨é‡Šè¡Œï¼Œä¼šè¢«å¿½ç•¥
https://example1.com
https://example2.com
https://example3.com

# ç©ºè¡Œä¹Ÿä¼šè¢«å¿½ç•¥
https://example4.com
```

## é¡¹ç›®ç»“æ„ (Goç‰ˆæœ¬)

```
JsFIndcrack/
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ jsfindcrack/          # å‘½ä»¤è¡Œå…¥å£
â”‚       â”œâ”€â”€ main.go           # ä¸»ç¨‹åº
â”‚       â””â”€â”€ validate.go       # å‚æ•°éªŒè¯
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ core/                 # æ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ crawler.go        # ä¸»çˆ¬å–åè°ƒå™¨
â”‚   â”‚   â”œâ”€â”€ deobfuscator.go   # åæ··æ·†å™¨
â”‚   â”‚   â”œâ”€â”€ batch.go          # æ‰¹é‡å¤„ç†
â”‚   â”‚   â””â”€â”€ header_manager.go # HTTPå¤´ç®¡ç†
â”‚   â”œâ”€â”€ crawlers/             # çˆ¬å–å™¨å®ç°
â”‚   â”‚   â”œâ”€â”€ static.go         # é™æ€çˆ¬å–(Colly)
â”‚   â”‚   â””â”€â”€ dynamic.go        # åŠ¨æ€çˆ¬å–(Rod)
â”‚   â”œâ”€â”€ models/               # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ task.go           # ä»»åŠ¡æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ file.go           # æ–‡ä»¶æ¨¡å‹
â”‚   â”‚   â””â”€â”€ report.go         # æŠ¥å‘Šæ¨¡å‹
â”‚   â”œâ”€â”€ config/               # é…ç½®ç®¡ç†
â”‚   â”‚   â””â”€â”€ headers.go        # å¤´éƒ¨é…ç½®
â”‚   â””â”€â”€ utils/                # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ logger.go         # æ—¥å¿—ç³»ç»Ÿ
â”‚       â”œâ”€â”€ reporter.go       # æŠ¥å‘Šç”Ÿæˆ
â”‚       â””â”€â”€ validator.go      # éªŒè¯å·¥å…·
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ unit/                 # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ e2e/                  # ç«¯åˆ°ç«¯æµ‹è¯•
â”‚   â””â”€â”€ benchmark/            # æ€§èƒ½æµ‹è¯•
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ build.sh              # äº¤å‰ç¼–è¯‘è„šæœ¬
â”‚   â””â”€â”€ release.sh            # å‘å¸ƒæ‰“åŒ…è„šæœ¬
â”œâ”€â”€ go.mod                    # Goæ¨¡å—å®šä¹‰
â”œâ”€â”€ go.sum                    # ä¾èµ–é”å®š
â”œâ”€â”€ Makefile                  # æ„å»ºä»»åŠ¡
â””â”€â”€ README.md                 # æœ¬æ–‡ä»¶
```

---

## æ„å»ºå’Œå¼€å‘ (Goç‰ˆæœ¬)

### æœ¬åœ°å¼€å‘

```bash
# å®‰è£…ä¾èµ–
go mod download

# è¿è¡Œæµ‹è¯•
make test
# æˆ–
go test ./...

# è¿è¡ŒE2Eæµ‹è¯•
./tests/e2e/single_url_test.sh
./tests/e2e/batch_crawl_test.sh

# æ ¼å¼åŒ–ä»£ç 
gofmt -w .

# ä»£ç æ£€æŸ¥
go vet ./...
```

### äº¤å‰ç¼–è¯‘

```bash
# æ„å»ºæ‰€æœ‰å¹³å°
./scripts/build.sh

# è¾“å‡ºä½äº dist/ ç›®å½•:
# - jsfindcrack-linux-amd64
# - jsfindcrack-darwin-amd64
# - jsfindcrack-darwin-arm64
# - jsfindcrack-windows-amd64.exe
```

### åˆ›å»ºå‘å¸ƒåŒ…

```bash
# ç”ŸæˆåŒ…å«æ–‡æ¡£çš„å®Œæ•´å‘å¸ƒåŒ…
./scripts/release.sh

# è¾“å‡º:
# - dist/jsfindcrack-VERSION-linux-amd64-full.tar.gz
# - dist/jsfindcrack-VERSION-darwin-amd64-full.tar.gz
# - dist/jsfindcrack-VERSION-darwin-arm64-full.tar.gz
# - dist/jsfindcrack-VERSION-windows-amd64-full.zip
```

---

## ä½¿ç”¨ç¤ºä¾‹ (Goç‰ˆæœ¬)

### åœºæ™¯1: å®‰å…¨ç ”ç©¶

```bash
# çˆ¬å–ç›®æ ‡ç½‘ç«™çš„æ‰€æœ‰JSæ–‡ä»¶
./jsfindcrack -u https://target.com -d 3 --mode all --log-level warn

# æœç´¢æ•æ„Ÿä¿¡æ¯
grep -r "api_key\|password\|secret" output/target.com/
```

### åœºæ™¯2: å‰ç«¯èµ„äº§åˆ†æ

```bash
# åˆ†æReactåº”ç”¨çš„bundle
./jsfindcrack -u https://react-app.com -d 1 --mode dynamic

# æŸ¥çœ‹æ–‡ä»¶ç»“æ„
tree output/react-app.com/encode/js/
```

### åœºæ™¯3: æ‰¹é‡ç«å“åˆ†æ

```bash
# åˆ›å»ºç«å“åˆ—è¡¨
cat > competitors.txt <<EOF
https://competitor1.com
https://competitor2.com
https://competitor3.com
EOF

# æ‰¹é‡çˆ¬å–
./jsfindcrack -f competitors.txt --mode all --threads 3 --continue-on-error
```

### åœºæ™¯4: CI/CDé›†æˆ

```bash
#!/bin/bash
# æŒç»­ç›‘æ§ç›®æ ‡ç½‘ç«™JSå˜åŒ–

TARGET_URL="https://monitored-site.com"
OUTPUT_DIR="output/$(date +%Y%m%d)"

./jsfindcrack -u "$TARGET_URL" -d 2 --mode static --output "$OUTPUT_DIR"

# ä¸ä¸Šä¸€æ¬¡ç»“æœå¯¹æ¯”
diff -r "$OUTPUT_DIR" "output/previous/" > changes.txt
if [ -s changes.txt ]; then
    echo "æ£€æµ‹åˆ°JSæ–‡ä»¶å˜åŒ–!"
    cat changes.txt
fi
```

---

## æ€§èƒ½åŸºå‡† (Goç‰ˆæœ¬)

**æµ‹è¯•ç¯å¢ƒ**: macOS M1, 16GB RAM

| åœºæ™¯ | æ–‡ä»¶æ•° | æ¨¡å¼ | å¹¶å‘ | è€—æ—¶ | å†…å­˜ |
|------|--------|------|------|------|------|
| å°å‹ç½‘ç«™ | ~20 | static | 2 | 15ç§’ | 60MB |
| ä¸­å‹SPA | ~50 | dynamic | 4 | 45ç§’ | 250MB |
| å¤§å‹ç½‘ç«™ | ~200 | all | 8 | 3åˆ†é’Ÿ | 500MB |
| æ‰¹é‡10ä¸ªURL | ~150 | static | 4 | 2åˆ†é’Ÿ | 200MB |
| æ‰¹é‡100ä¸ªURL | ~800 | static | 8 | 18åˆ†é’Ÿ | 600MB |

**æ€§èƒ½æå‡** (å¯¹æ¯”Pythonç‰ˆæœ¬):
- æ‰¹é‡çˆ¬å–: 30% æ›´å¿«
- å†…å­˜å ç”¨: 40% æ›´ä½
- åæ··æ·†: 50% æ›´å¿«
- å¯åŠ¨æ—¶é—´: <1ç§’ (Pythonç‰ˆæœ¬~2ç§’)

---

## å‘½ä»¤è¡Œå‚æ•°

| å‚æ•° | ç®€å†™ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `--url` | `-u` | å¿…éœ€* | ç›®æ ‡ç½‘ç«™URLï¼ˆä¸--url-fileäº’æ–¥ï¼‰ |
| `--url-file` | `-f` | å¿…éœ€* | URLåˆ—è¡¨æ–‡ä»¶è·¯å¾„ï¼ˆä¸--urläº’æ–¥ï¼‰ |
| `--batch-delay` | - | 0 | æ‰¹é‡æ¨¡å¼ä¸‹URLä¹‹é—´çš„å»¶è¿Ÿæ—¶é—´(ç§’) |
| `--continue-on-error` | - | False | æ‰¹é‡æ¨¡å¼ä¸‹é‡åˆ°é”™è¯¯æ—¶ç»§ç»­å¤„ç†ä¸‹ä¸€ä¸ªURL |
| `--depth` | `-d` | 2 | çˆ¬å–æ·±åº¦ |
| `--wait` | `-w` | 3 | é¡µé¢ç­‰å¾…æ—¶é—´(ç§’) |
| `--threads` | `-t` | 2 | é™æ€çˆ¬å–å¹¶è¡Œçº¿ç¨‹æ•° |
| `--playwright-tabs` | - | 4 | PlaywrightåŒæ—¶æ‰“å¼€çš„æ ‡ç­¾é¡µæ•°é‡ |
| `--headless` | - | True | Playwrightæ— å¤´æ¨¡å¼è¿è¡Œ |
| `--no-headless` | - | - | Playwrightæœ‰å¤´æ¨¡å¼è¿è¡Œ |
| `--mode` | - | all | çˆ¬å–æ¨¡å¼: static/dynamic/all |
| `--resume` | `-r` | - | ä»æ£€æŸ¥ç‚¹æ¢å¤ |
| `--similarity` | - | True | å¯ç”¨æ™ºèƒ½ç›¸ä¼¼åº¦æ£€æµ‹å’Œå»é‡ |
| `--similarity-threshold` | - | 0.8 | ç›¸ä¼¼åº¦é˜ˆå€¼(0.0-1.0) |
| `--similarity-workers` | - | CPUæ ¸å¿ƒæ•° | ç›¸ä¼¼åº¦åˆ†æå¹¶è¡Œå·¥ä½œçº¿ç¨‹æ•° |

*æ³¨ï¼š`--url` å’Œ `--url-file` å‚æ•°äº’æ–¥ï¼Œå¿…é¡»æŒ‡å®šå…¶ä¸­ä¸€ä¸ª

## æ¥å£

### åŸºæœ¬ç”¨æ³•

```python
from src.core.js_crawler import JSCrawler

# åˆ›å»ºçˆ¬è™«å®ä¾‹
crawler = JSCrawler("https://example.com")

# æ‰§è¡Œçˆ¬å–
result = crawler.crawl()

# æŸ¥çœ‹ç»“æœ
print(f"é™æ€JSæ–‡ä»¶: {result['static']['downloaded']} ä¸ª")
print(f"åŠ¨æ€JSæ–‡ä»¶: {result['dynamic']['downloaded']} ä¸ª")
print(f"Source Mapæ–‡ä»¶: {result['static']['map_files']} ä¸ª")
print(f"åæ··æ·†æ–‡ä»¶: {result['deobfuscation']['processed_files']} ä¸ª")
```

### é«˜çº§é…ç½®

```python
# è‡ªå®šä¹‰å‚æ•°çˆ¬å–
result = crawler.crawl(
    depth=3,                    # çˆ¬å–æ·±åº¦
    wait_time=5,               # é¡µé¢ç­‰å¾…æ—¶é—´
    max_workers=4,             # å¹¶è¡Œçº¿ç¨‹æ•°
    playwright_tabs=6,         # Playwrightæ ‡ç­¾é¡µæ•°
    headless=True,             # æ— å¤´æ¨¡å¼
    mode='all',                # çˆ¬å–æ¨¡å¼
    resume=False,              # æ˜¯å¦æ¢å¤
    similarity_enabled=True,   # å¯ç”¨ç›¸ä¼¼åº¦æ£€æµ‹
    similarity_threshold=0.8   # ç›¸ä¼¼åº¦é˜ˆå€¼
)
```

### æ‰¹é‡å¤„ç†

#### ä½¿ç”¨BatchJSCrawlerç±»

```python
from src.core.js_crawler import BatchJSCrawler

# ä»æ–‡ä»¶åŠ è½½URLåˆ—è¡¨
urls_file = "urls.txt"
batch_crawler = BatchJSCrawler()

# æ‰§è¡Œæ‰¹é‡çˆ¬å–
result = batch_crawler.crawl_batch(
    urls_file=urls_file,
    depth=2,
    wait_time=3,
    max_workers=2,
    playwright_tabs=4,
    headless=True,
    mode='all',
    batch_delay=1,           # URLä¹‹é—´å»¶è¿Ÿ1ç§’
    continue_on_error=True   # é‡åˆ°é”™è¯¯ç»§ç»­å¤„ç†
)

# æŸ¥çœ‹æ‰¹é‡å¤„ç†ç»“æœ
print(f"æ€»URLæ•°é‡: {result['total_urls']}")
print(f"æˆåŠŸå¤„ç†: {result['successful_urls']}")
print(f"å¤±è´¥æ•°é‡: {result['failed_urls']}")
print(f"æ€»æ–‡ä»¶æ•°: {result['total_files']}")
```

#### æ‰‹åŠ¨æ‰¹é‡å¤„ç†

```python
from src.core.js_crawler import JSCrawler

urls = [
    "https://site1.com",
    "https://site2.com", 
    "https://site3.com"
]

results = []
for i, url in enumerate(urls, 1):
    print(f"å¤„ç†ç¬¬ {i}/{len(urls)} ä¸ªURL: {url}")
    
    try:
        crawler = JSCrawler(url)
        result = crawler.crawl()
        results.append({
            'url': url,
            'success': True,
            'total_files': result['total_files']
        })
        print(f"âœ… {url}: å®Œæˆï¼Œå…±å¤„ç† {result['total_files']} ä¸ªæ–‡ä»¶")
    except Exception as e:
        results.append({
            'url': url,
            'success': False,
            'error': str(e)
        })
        print(f"âŒ {url}: å¤±è´¥ - {e}")
    
    # æ·»åŠ å»¶è¿Ÿ
    import time
    time.sleep(1)

# ç»Ÿè®¡ç»“æœ
successful = sum(1 for r in results if r['success'])
total_files = sum(r.get('total_files', 0) for r in results if r['success'])
print(f"\næ‰¹é‡å¤„ç†å®Œæˆ: {successful}/{len(urls)} æˆåŠŸï¼Œå…±è·å¾— {total_files} ä¸ªæ–‡ä»¶")
```

## æ”¯æŒçš„æ–‡ä»¶ç±»å‹

### JavaScriptæ–‡ä»¶
- `.js` - æ ‡å‡†JavaScriptæ–‡ä»¶
- `.mjs` - ES6æ¨¡å—æ–‡ä»¶
- `.jsx` - React JSXæ–‡ä»¶

### Source Mapæ–‡ä»¶
- `.map` - æ ‡å‡†Source Mapæ–‡ä»¶
- `.js.map` - JavaScript Source Mapæ–‡ä»¶

## å·¥ä½œæµç¨‹

1. **é™æ€çˆ¬å–é˜¶æ®µ**
   - è§£æHTMLé¡µé¢ï¼Œæå–scriptæ ‡ç­¾
   - å‘ç°JavaScriptå’ŒSource Mapæ–‡ä»¶é“¾æ¥
   - å¤šçº¿ç¨‹å¹¶è¡Œä¸‹è½½æ–‡ä»¶
   - è‡ªåŠ¨å»é‡å’Œæ–‡ä»¶éªŒè¯

2. **åŠ¨æ€çˆ¬å–é˜¶æ®µ**
   - å¯åŠ¨æµè§ˆå™¨ï¼ˆSelenium/Playwrightï¼‰
   - ç›‘æ§ç½‘ç»œè¯·æ±‚ï¼Œæ•è·åŠ¨æ€åŠ è½½çš„JSæ–‡ä»¶
   - æ‰§è¡Œé¡µé¢äº¤äº’ï¼Œè§¦å‘æ›´å¤šèµ„æºåŠ è½½
   - è·¨æ¨¡å¼å»é‡ï¼Œé¿å…é‡å¤ä¸‹è½½

3. **ç›¸ä¼¼åº¦æ£€æµ‹ä¸å»é‡**
   - åŸºäºæ–‡ä»¶å†…å®¹è®¡ç®—ç›¸ä¼¼åº¦
   - æ™ºèƒ½è¯†åˆ«é‡å¤å’Œç›¸ä¼¼æ–‡ä»¶
   - ç”Ÿæˆå»é‡æŠ¥å‘Šå’Œç»Ÿè®¡ä¿¡æ¯
   - æ”¯æŒå¹¶è¡Œå¤„ç†æå‡æ•ˆç‡

4. **åæ··æ·†å¤„ç†**
   - è‡ªåŠ¨æ£€æµ‹æ··æ·†çš„JavaScriptæ–‡ä»¶
   - ä½¿ç”¨webcrackå·¥å…·è¿›è¡Œåæ··æ·†
   - ä¿æŒåŸå§‹æ–‡ä»¶ç»“æ„å’Œå‘½å

5. **æŠ¥å‘Šç”Ÿæˆ**
   - ç”Ÿæˆè¯¦ç»†çš„çˆ¬å–ç»Ÿè®¡æŠ¥å‘Š
   - è®°å½•æˆåŠŸ/å¤±è´¥çš„æ–‡ä»¶ä¿¡æ¯
   - æä¾›æ–‡ä»¶å¤§å°å’Œç±»å‹ç»Ÿè®¡
   - åˆ†ç±»æ—¥å¿—ç®¡ç†ï¼ˆé”™è¯¯æ—¥å¿—ã€è°ƒè¯•æ—¥å¿—ï¼‰

## è¾“å‡ºç›®å½•ç»“æ„

```
output/
â””â”€â”€ example.com/
    â”œâ”€â”€ encode/               # åŸå§‹ä¸‹è½½æ–‡ä»¶
    â”‚   â”œâ”€â”€ js/              # JavaScriptæ–‡ä»¶
    â”‚   â””â”€â”€ maps/            # Source Mapæ–‡ä»¶
    â”œâ”€â”€ decode/              # åæ··æ·†åçš„æ–‡ä»¶
    â”œâ”€â”€ checkpoints/         # æ£€æŸ¥ç‚¹æ–‡ä»¶
    â”‚   â””â”€â”€ crawler_checkpoint.json
    â”œâ”€â”€ similarity_analysis_[timestamp]/ # ç›¸ä¼¼åº¦åˆ†æç»“æœ
    â”‚   â”œâ”€â”€ duplicate_groups.json
    â”‚   â”œâ”€â”€ similarity_matrix.json
    â”‚   â””â”€â”€ deduplication_report.json
    â”œâ”€â”€ crawl_report.json    # çˆ¬å–æŠ¥å‘Š
    â”œâ”€â”€ crawl_summary.json   # çˆ¬å–æ‘˜è¦
    â”œâ”€â”€ success_files.json   # æˆåŠŸæ–‡ä»¶åˆ—è¡¨
    â””â”€â”€ failed_files.json    # å¤±è´¥æ–‡ä»¶åˆ—è¡¨

logs/                        # å…¨å±€æ—¥å¿—ç›®å½•
â”œâ”€â”€ js_crawler.log          # ä¸»æ—¥å¿—æ–‡ä»¶
â””â”€â”€ js_crawler_error.log    # é”™è¯¯æ—¥å¿—æ–‡ä»¶
```

## é…ç½®è¯´æ˜

ä¸»è¦é…ç½®é¡¹ä½äº `src/core/config.py`ï¼š

```python
# ç½‘ç»œé…ç½®
REQUEST_TIMEOUT = 30          # è¯·æ±‚è¶…æ—¶æ—¶é—´
MAX_RETRIES = 3              # æœ€å¤§é‡è¯•æ¬¡æ•°
MAX_FILE_SIZE = 50 * 1024 * 1024  # æœ€å¤§æ–‡ä»¶å¤§å°(50MB)

# æµè§ˆå™¨é…ç½®
BROWSER_ENGINE = "playwright"  # æµè§ˆå™¨å¼•æ“
USE_EMBEDDED_BROWSER = True   # ä½¿ç”¨å†…åµŒæµè§ˆå™¨

# æ–‡ä»¶ç±»å‹é…ç½®
SUPPORTED_JS_EXTENSIONS = ['.js', '.mjs', '.jsx']
SUPPORTED_MAP_EXTENSIONS = ['.map', '.js.map']

# ç›¸ä¼¼åº¦æ£€æµ‹é…ç½®
SIMILARITY_THRESHOLD = 0.8    # é»˜è®¤ç›¸ä¼¼åº¦é˜ˆå€¼
MIN_FILE_SIZE_FOR_SIMILARITY = 1024  # æœ€å°æ–‡ä»¶å¤§å°
```

### è°ƒè¯•æ¨¡å¼

```bash
# å¯ç”¨è¯¦ç»†æ—¥å¿—
export LOG_LEVEL=DEBUG
python main.py -u https://example.com

# æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶
tail -f logs/js_crawler.log
tail -f logs/js_crawler_error.log
```

## æ€§èƒ½ä¼˜åŒ–

- **å¹¶è¡Œå¤„ç†**: æ”¯æŒå¤šçº¿ç¨‹ä¸‹è½½å’Œç›¸ä¼¼åº¦åˆ†æ
- **æ™ºèƒ½å»é‡**: é¿å…é‡å¤ä¸‹è½½ç›¸åŒæ–‡ä»¶
- **æ–­ç‚¹ç»­çˆ¬**: æ”¯æŒä¸­æ–­æ¢å¤ï¼ŒèŠ‚çœæ—¶é—´
- **å†…å­˜ä¼˜åŒ–**: å¤§æ–‡ä»¶æµå¼å¤„ç†ï¼Œé™ä½å†…å­˜å ç”¨
- **ç¼“å­˜æœºåˆ¶**: æ–‡ä»¶å“ˆå¸Œç¼“å­˜ï¼Œæå‡å»é‡æ•ˆç‡


---

## Pythonç‰ˆæœ¬å‚è€ƒ

åŸPythonç‰ˆæœ¬ä»£ç ä»åœ¨ä»“åº“ä¸­ä¿ç•™(ç”¨äºå¯¹æ¯”å’Œè¿ç§»å‚è€ƒ)ã€‚å¦‚éœ€ä½¿ç”¨Pythonç‰ˆæœ¬,è¯·å‚è€ƒ:

```bash
# æŸ¥çœ‹Pythonç‰ˆæœ¬åˆ†æ”¯
git checkout python-legacy

# å®‰è£…Pythonç‰ˆæœ¬
pip install -r requirements.txt
playwright install

# è¿è¡ŒPythonç‰ˆæœ¬
python main.py -u https://example.com
```

**æ³¨æ„**: æ–°åŠŸèƒ½å’Œä¼˜åŒ–ä»…åœ¨Goç‰ˆæœ¬ä¸­æä¾›,æ¨èä½¿ç”¨Goç‰ˆæœ¬ã€‚

---

## æ•…éšœæ’æŸ¥

### Goç‰ˆæœ¬å¸¸è§é—®é¢˜

**Q1: macOSæç¤º"æ— æ³•éªŒè¯å¼€å‘è€…"**
```bash
xattr -d com.apple.quarantine jsfindcrack
```

**Q2: åæ··æ·†å¤±è´¥**
```bash
# æ£€æŸ¥webcrackæ˜¯å¦å®‰è£…
which webcrack
npm install -g webcrack
```

**Q3: åŠ¨æ€çˆ¬å–å¤±è´¥**
```bash
# å¯ç”¨è°ƒè¯•æ—¥å¿—
./jsfindcrack -u URL --mode dynamic --log-level debug

# æŒ‡å®šæµè§ˆå™¨è·¯å¾„
export ROD_BROWSER_PATH=/path/to/chrome
```

**Q4: ç¼–è¯‘é”™è¯¯**
```bash
# æ¸…ç†ç¼“å­˜é‡æ–°æ„å»º
go clean -cache
go mod download
go build ./cmd/jsfindcrack
```

---

## æŠ€æœ¯æ ˆ (Goç‰ˆæœ¬)

- **è¯­è¨€**: Go 1.21+
- **é™æ€çˆ¬å–**: [Colly](https://github.com/gocolly/colly) - é«˜æ•ˆHTTPçˆ¬å–
- **åŠ¨æ€çˆ¬å–**: [Rod](https://github.com/go-rod/rod) - æµè§ˆå™¨è‡ªåŠ¨åŒ–
- **æ—¥å¿—**: [Zerolog](https://github.com/rs/zerolog) - é«˜æ€§èƒ½ç»“æ„åŒ–æ—¥å¿—
- **CLI**: [Cobra](https://github.com/spf13/cobra) - ç°ä»£CLIæ¡†æ¶
- **é…ç½®**: [Viper](https://github.com/spf13/viper) - é…ç½®ç®¡ç†
- **å¹¶å‘**: errgroup, sync - Goæ ‡å‡†åº“å¹¶å‘åŸè¯­
- **åæ··æ·†**: [webcrack](https://github.com/j4k0xb/webcrack) (å¤–éƒ¨ä¾èµ–)

---

## è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç !è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤:

1. Forkæœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. å¼€å¯Pull Request

**ä»£ç è§„èŒƒ**:
- ä½¿ç”¨`gofmt`æ ¼å¼åŒ–ä»£ç 
- é€šè¿‡`go vet`æ£€æŸ¥
- æ·»åŠ å•å…ƒæµ‹è¯•
- æ›´æ–°æ–‡æ¡£

---

## å¼€å‘è·¯çº¿å›¾

### v2.1 (è®¡åˆ’ä¸­)
- [ ] Web UIç•Œé¢
- [ ] å®æ—¶è¿›åº¦WebSocketæ¨é€
- [ ] æ’ä»¶ç³»ç»Ÿ
- [ ] æ›´å¤šåæ··æ·†å¼•æ“æ”¯æŒ

### v2.2 (è®¡åˆ’ä¸­)
- [ ] åˆ†å¸ƒå¼çˆ¬å–
- [ ] Redisç¼“å­˜æ”¯æŒ
- [ ] Dockeré•œåƒ
- [ ] Kuberneteséƒ¨ç½²

---

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ - æŸ¥çœ‹[LICENSE](LICENSE)æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

---

## è‡´è°¢

### Goç‰ˆæœ¬
- [Colly](https://github.com/gocolly/colly) - é™æ€çˆ¬å–å¼•æ“
- [Rod](https://github.com/go-rod/rod) - æµè§ˆå™¨è‡ªåŠ¨åŒ–
- [Cobra](https://github.com/spf13/cobra) - CLIæ¡†æ¶
- [Zerolog](https://github.com/rs/zerolog) - æ—¥å¿—åº“
- [webcrack](https://github.com/j4k0xb/webcrack) - JavaScriptåæ··æ·†

### Pythonç‰ˆæœ¬ (Legacy)
- [Playwright](https://playwright.dev/) - æµè§ˆå™¨è‡ªåŠ¨åŒ–
- [BeautifulSoup](https://www.crummy.com/software/BeautifulSoup/) - HTMLè§£æ

---

## è”ç³»æ–¹å¼

- **é¡¹ç›®ä¸»é¡µ**: https://github.com/RecoveryAshes/JsFIndcrack
- **é—®é¢˜åé¦ˆ**: [Issues](https://github.com/RecoveryAshes/JsFIndcrack/issues)
- **åŠŸèƒ½è¯·æ±‚**: [Discussions](https://github.com/RecoveryAshes/JsFIndcrack/discussions)

---

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©,è¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ ‡!** â­

**Goé‡å†™ç‰ˆv2.0 - æ›´å¿«ã€æ›´è½»ã€æ›´å¼ºå¤§!** ğŸš€